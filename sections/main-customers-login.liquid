<section data-section-id="login" data-section-type="login">
  <div class="Container login">
    <div class="PageContent PageContent--fitScreen PageContent--Narrow">
      {%- assign is_recover_active = false -%}
      {%- form
      'recover_customer_password' -%}
        {%- if form.errors or
      form.posted_successfully? -%}
          {%- assign is_recover_active = true -%}
        {%-
      endif -%}
      {%- endform -%}
      {%- comment -%}
      --------------------------------------------------------------------------------------------------------------------
      CUSTOMER LOGIN FORM
      --------------------------------------------------------------------------------------------------------------------
      {%- endcomment -%}
      {%- if is_recover_active -%}
        {%- assign
      login_default_visibility = 'display: none' -%}
      {%- else -%}
        {%- assign
      login_default_visibility = 'display: block' -%}
      {%- endif -%}
      {%- form
      'customer_login', name: 'login', class: 'Form Form--spacingTight', id:
      'customer_login', style: login_default_visibility -%}
        <header class="Form__Header">
          <h1 class="Form__Title Heading u-h1 login">
            {{ "customer.login.title" | t }}
          </h1>
        </header>

        {%- if form.errors -%}
          <p class="Form__Alert Alert Alert--error">
            {{- form.errors.messages['form'] -}}
          </p>
        {%- endif -%}

        <div class="Form__Item">
          <input type="email" class="Form__Input" name="customer[email]" required="required" placeholder="{{ 'customer.login.email' | t }}" aria-label="{{ 'customer.login.email' | t }}" autofocus/>
          <label class="Form__FloatingLabel">{{
          "customer.login.email" | t
        }}</label>
        </div>

        <div class="Form__Item">
          <input type="password" class="Form__Input" name="customer[password]" required="required" placeholder="{{ 'customer.login.password' | t }}" aria-label="{{ 'customer.login.password' | t }}"/>
          <label class="Form__FloatingLabel">{{
          "customer.login.password" | t
        }}</label>
        </div>

        <div class="Form__Hint Form__Hint--center login">
          <button class="Form__Submit Button Button--primary Button--full login" type="submit">
            {{ "customer.login.submit" | t }}
          </button>
          <p class="Form__Forgot Link Link--primary" data-action="toggle-recover-form" type="button">
            {{ "customer.login.forgot" | t }}
          </p>
        </div>
        <div class="Form__Hint--center">
          <p class="Text--subdued migration">
            システムのリニューアルに伴い、パスワードを再設定していただく必要がございます。<br>
            大変お手数をおかけいたしますが、下記新規会員登録より以前ご登録いただきましたメールアドレスを再度ご登録ください。<br>
            ※メールアドレスをお忘れの方や、ご不明な点がございましたら<a href="https://https-bigwing.myshopify.com/pages/contact">こちら</a>よりお問い合わせください。
          </p>
        </div>
        <div class="Form__Hint Form__Hint--center register">
          <p class="Text--subdued login">
            {{ "customer.login.register_label" | t }}
          </p>
          <a class="Form__Submit Button Button--primary Button--full login" href="https://https-bigwing.myshopify.com/account/register" type="submit">
            {{ "customer.login.register_link" | t }}
          </a>
        </div>

      {%- endform -%}
      {%- comment -%}
      --------------------------------------------------------------------------------------------------------------------
      CUSTOMER RECOVERY FORM
      --------------------------------------------------------------------------------------------------------------------
      {%- endcomment -%}
      {%- if is_recover_active -%}
        {%- assign
      recover_default_visibility = 'display: block' -%}
      {%- else -%}
        {%- assign
      recover_default_visibility = 'display: none' -%}
      {%- endif -%}
      {%- form
      'recover_customer_password', name: 'recover', class: 'Form
      Form--spacingTight', id: 'recover_customer_password', style:
      recover_default_visibility -%}
        <header class="Form__Header">
          <h1 class="Form__Title Heading u-h1">
            {{ "customer.recover_password.title" | t }}
          </h1>

          {%- unless form.posted_successfully? -%}
            <p class="Form__Legend">
              {{ "customer.recover_password.description" | t }}
            </p>
          {%- endunless -%}
        </header>

        {%- if form.errors -%}
          <p class="Form__Alert Alert Alert--error">
            {{- form.errors.messages['form'] -}}
          </p>
        {%- endif -%}
        {%- if form.posted_successfully? -%}
          <p class="Form__Alert Alert Alert--success">
            {{- 'customer.recover_password.success' | t -}}
          </p>
        {%- endif -%}

        <div class="Form__Item">
          <input type="email" class="Form__Input" name="email" required="required" placeholder="{{ 'customer.recover_password.email' | t }}" aria-label="{{ 'customer.recover_password.email' | t }}" autofocus/>
          <label class="Form__FloatingLabel">{{
          "customer.recover_password.email" | t
        }}</label>
        </div>

        <button class="Form__Submit Button Button--primary Button--full" type="submit">
          {{ "customer.recover_password.submit" | t }}
        </button>

        <div class="Form__Hint Form__Hint--center">
          <span class="Text--subdued">{{
          "customer.recover_password.login_label" | t
        }}</span>
          <button class="Link Link--secondary" data-action="toggle-recover-form" type="button">
            {{ "customer.recover_password.login_link" | t }}
          </button>
        </div>
      {%- endform -%}
    </div>
  </div>
</section>

{% schema %}

{
  "name": "Customer login"
}

{% endschema %}
